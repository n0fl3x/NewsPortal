# NewsPortal
NewsPortal (module D) SkillFactory project repository.

---

12.02.23.:
- Пересоздал репозиторий для пушей в него всех изменений по итоговым и промежуточным
заданиям модуля D (Django Framework) в проекте NewsPortal.
Предыдущий репозиторий был удалён, а проект переделан заново.
- ТЗ промежуточных и итоговых заданий буду добавлять в общий каталог, разделив по директориям
с названием конкретного модуля.
- Здесь же (в README.md) буду вести лог изменений и обновлений в проекте NewsPortal.

---

18.02.23.:
Итоговое задание D3.6.

Добавлено:
- кастомный цензор-фильтр, запикивающий слова (на текущий момент): "идиот", "редиска" и "тыжпрограммист".

Вызвать нужный объект из БД для проверки фильтра можно через:
localhost/post/115

- переместил шаблоны в директорию news/templates/news (по рекомендации из Вебинара от Семёна Березовского).

---

01.03.23.:
Итоговое задание D4.7.

Т.к. в этом задании вкрутили разделение на новости и статьи, то я несколько подшаманил urls в приложении news.
Если делать по уму, то надо сносить БД и/или шаманить ещё и модели, перезапиливать миграции... Всего этого
на этом этапе уже делать как-то не хочется.

Добавлено:
- пагинация страниц с публикациями по 7 постов на страницу.
- опробовал дополнительный параметр пагинатора Orphans (сделал = 3).
Помимо этого добавил пару дополнительных указателей на страницы (первая, последняя, следующая, предыдущая).
Они реализуют такой же функционал, как и в стандартной пагинации, но просто ради практики и для закрепления
результатов.
- поиск публикаций по определённым фильтрам, которые можно комбинировать. Т.к. в ТЗ при поиске по дате сказано
сделать поиск именно по ДАТЕ публикации, то использовал просто html-тип 'date', а не 'datetime-local', этого
вполне достаточно. Поиск по названию сделан с параметром 'icontains', а по категориям с возможностью выбирать
по нескольким категориям одновременно по методу "И" (conjoined=True).
- подправил HTML-шаблоны. Пофиксил вывод статей, которые принадлежат к 0, 1 или >1 категории.
- отдельные вьюшки и формы для создания статей и новостей, у которых уже заранее определён тип публикации. У страниц
для редактирования и удаления постов я не делал в адресах разделение по типам публикаций - в таком виде это не имеет
смысла, получается просто дублирование кода (не стал удалять - закомментил).

---

05.03.23.:
Итоговое задание D5.8.

Перенёс все папки с текстами ТЗ итоговых заданий по модулям в директорию module_tasks, чтобы не загромождать
структуру проекта.

Добавлено:
- URL на который перенаправляет после логаута из учётки на страницу авторизации.
- формы регистрации и входа по эл.почте и паролю. При регистрации также добавил поле с именем
(ACCOUNT_USERNAME_REQUIRED = True)
- возможность входа с помощью OAuth через Yandex, Google и GitHub.
Проверьте, пожалуйста, вход через GitHub. Сделал всё согласно документации django-allauth, но мало ли. У меня работает,
но т.к. в гитхабовской учётке у меня тот же емейл, что и на гугле, то он перекидывает меня страницу allauth'овской
формы, чтобы я этот емейл поменял, т.к. не может быть двух одинаковых адресов эл. почты в БД. Свои Social-аккаунты
из БД не удалял.
- добавил группу authors, которой предоставил права создания, редактирования и удаления ТОЛЬКО СВОИХ (реализовал проверку
через темплейты) постов и комментов (правда там пока нет ни одного коммента, т.к. я сносил БД когда заново переделывал
проект). Ссылки действий отображаются и работают. Если что, пароли для всех тестовых аккаунтов одинаковый - kekWkekW.
В этой группе 3 пользователя: author_1, author_2 и author_3. Они автоматически были добавлены в группу authors
при их регистрации и одновременно с этим попали как авторы в модель Author в БД.
- добавил группу moderators, которой предоставил права создания, редактирования, а также удаления всех постов,
комментариев и категорий (не типов) постов. Это пока просто для галочки, дорабатывать функционал буду позже.
В этой группе пока нет пользователей.
- расширил функционал формы регистрации, чтобы при создании учётки пользователя помимо группы authors (предоставление
прав) сразу добавляло в БД как нового автора (как инстанс модели Authors). Т.е. при создании публикации он может
выбрать себя как автора этой публикации. Чтобы спрятать выпадающее меню с выбором автора поста и поставить к
создаваемому посту автором по умолчанию пользователя, который в данный момент авторизован у меня пока руки не
дошли, каюсь. Т.к. не может быть 2 одинаковых учётки, то и проверку на то, что данного пользователя нет
в БД как автора я не делал.

---
